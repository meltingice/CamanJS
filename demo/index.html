<!DOCTYPE html>
<html lang="en">
<head>
	<title>CamanJS - Canvas Image Manipulation</title>
	
	<link type="text/css" rel="stylesheet" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" href="css/styles.css" />

	<script type="text/javascript" src="../caman.js"></script>

	<script type="text/javascript">

	Caman('img/example3.jpg', '#image-original', function () {});
	
    Caman('img/example3.jpg', '#image-channels', function () {
    	this.channels({
    		red: 20,
    		green: -5,
    		blue: -10
    	});
    	
    	this.gamma(1.2);
    	this.brightness(5);
    	this.contrast(5);
    });
    
    Caman('img/example3.jpg', '#image-sepia', function () {
      this.noise(5);
      this.gamma(1.2);
      this.sepia(70);
      this.colorize('#AF3D15', 5);
      this.contrast(5);
    });
    
    Caman('img/example2.jpg', '#image-combined', function (canvas) {
      var downloadButton = document.getElementById('download-image');
      
      // download image event
      downloadButton.onclick = function () {
         canvas.save();
      };
      
      this.contrast(25);
      this.hue(5);
      this.colorize('#AF3D15', 25);
      this.saturation(-30);
      this.brightness(5);
      
      this.finished(function () {
        console.log("Combined filters image finished rendering!");
        downloadButton.value = "Download Image";
        downloadButton.disabled = false;
        
        document.getElementById('final-image').innerHTML = "";
        document.getElementById('final-image').appendChild(this.toImage());
      });
    });
    
    Caman.listen("processComplete", function( data ) {
      console.log("processComlete: ", data);
    });
  	
	</script>
</head>
<body>

<div id="header">
	<div id="header-logo">
		<img src="img/camanjs.png" alt="CamanJS" />
	</div>
	<p>CamanJS is an attempt at providing a simple to use interface for dynamically manipulating images completely in JS. It strives to provide much of the basic functionality you would find in something like Photoshop. By this I mean, image contrast, brightness, levels, saturation, etc. At this time, something as complex as the Clone Tool is out of the question (but if you're feeling brave, be my guest).</p>
	
	<p style="text-align: center;"><a href="http://github.com/meltingice/CamanJS">Fork me on GitHub</a></p>
</div>

<div class="image-wrap">
	<h1>Original Image</h1>
	<canvas id="image-original"></canvas>
</div>

<div class="image-wrap">
	<h1>Altered Image - Adjusted Channels + Others</h1>
	<canvas id="image-channels"></canvas>
</div>

<div class="image-wrap">
  <h1>Altered Image - Sepia & Noise + Others</h1>
  <canvas id="image-sepia"></canvas>
</div>

<div class="image-wrap">
	<h1>Altered Image - Multiple Filters</h1>
	<canvas id="image-combined"></canvas>
	
	<div id="download-button">
  	<input id="download-image" class="fancy-button-grey" type="button" value="Please wait..." disabled="true" />
  	<p>Note: you'll need to give the downloaded file a .png extension manually.</p>
  </div>
</div>

<div class="image-wrap">
  <h1>Final Modified Image as Image Object</h1>
  <div id="final-image">
    <p style="text-align: center">Please wait...</p>
  </div>
</div>

</body>
</html>
